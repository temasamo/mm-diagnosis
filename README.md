# MM Diagnosis

## Pillow診断アプリの一連の流れ（必須）

### 重要な開発ルール
**どこかのページを開発した際に、そのページだけでなく、全体の流れを損なわないようにする**

### 一連の流れ（①〜④）
1. **①** `http://localhost:3001/pillow` - ランディングページ
2. **②** `http://localhost:3001/pillow/diagnosis` - 診断ページ（ラジオボタン形式、複数選択対応）
3. **③** `http://localhost:3001/pillow/preview?c=...` - プレビューページ（JSON圧縮されたデータを受け取る）
4. **④** `http://localhost:3001/pillow/result` - 結果ページ

### データフロー
- **②→③**: `JSON.stringify(answers)`で圧縮してURLパラメータに渡す
- **③→④**: プレビューページから結果ページへの遷移
- **データ整合性**: 複数選択データも配列として正しく処理される

### 技術仕様
- **診断ページ**: ラジオボタン形式、`concerns`と`neck_shoulder_issues`は複数選択可能なチェックボックス
- **状態管理**: Zustandを使用
- **データ圧縮**: `JSON.stringify`でURLパラメータに渡す
- **一連の流れ**: 必ず①→②→③→④の順序で動作することを確認

### 開発時の注意事項
1. 各ページを修正する際は、必ず一連の流れ（①〜④）が正常に動作することを確認
2. データの受け渡し（特にJSON圧縮）を壊さないように注意
3. 複数選択データの処理を正しく実装
4. プレビューページと結果ページの連携を維持 